{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"/]+|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Contour Terminal Emulator","text":""},{"location":"#contour-terminal-emulator","title":"Contour Terminal Emulator","text":"<p>Contour is modern, fast, and designed for everyday use. It's not just a terminal emulator, but a powerhouse of features tailored for those who seek efficiency and control. With GPU-accelerated rendering and high-DPI support, experience the smoothest and most responsive terminal emulator like never before.</p> <p>Contour is designed with the advanced power user in mind, offering high-speed, feature-rich functionality across all major platforms. From Linux and OS/X to FreeBSD and Windows, we've got you covered.  Contour offers a suite of unique features designed to enhance your productivity and user experience. Enjoy support for font ligatures, emoji, and Unicode grapheme clusters. Navigate quickly with vertical line markers and vi-like input modes. Control your settings with runtime configuration reload and customizable key bindings.  Bring your terminal to life with color schemes, profiles, and sixel inline images. Enjoy the convenience of clickable hyperlinks, and set your clipboard with OSC 52.  </p> <p>This website is still in DRAFT mode, please be patient while we're building up the content.</p> <p></p> <p>Install Join  </p>"},{"location":"#key-features","title":"Key Features","text":"<p>  Available on all 4 major platforms, Linux, OS/X, FreeBSD, Windows.  Font ligatures support (very useful for programming and scripting)    Complex Unicode support, including colored Emoji (-: \ud83c\udf08  \ud83d\udc9d  \ud83d\ude1b  \ud83d\udc6a  - including ZWJ, VS15, VS16 emoji :-)  Vi-like input modes for improved navigation, selection and copy'n'paste experience  Vertical Line Markers (quickly jump to markers in your history!)    Profiles (grouped customization of: color scheme, login shell, and related behaviours)  Sixel Image support VT320 Host-programmable and Indicator statusline support   Bold and italic fonts  For a full list of features, click here </p>"},{"location":"CONTRIBUTING/","title":"Contribution Guidelines","text":""},{"location":"CONTRIBUTING/#contribution-guidelines","title":"Contribution Guidelines","text":"<p>Many thanks for your interest in contributing to the Contour terminal emulator.</p> <p>Any kind of contribution is welcome, let it be coding (feature, bugfixes), documentation, or just bug management / community management.</p> <p>If you would like to contribute but do not know how, we welcome you to join our Discord. You can also see some live development on Twitch.</p>"},{"location":"CONTRIBUTING/#some-general-tips","title":"Some general tips:","text":"<ul> <li>Please keep in mind, this project is still in its very early stages (started Augost 2019) and thus   under very active development. It's not perfect nor bug-free yet.</li> <li>Please fork the main repository at github.com/contour-terminal/contour   then git clone your repository into your preferred location.</li> <li>Always work on a branch based off the master branch, if it is a feature or a bugfix.</li> <li>Please have a look at the coding style guidelines.</li> <li>When creating a pull request, please see if you can keep the commits as atomic as possible.   That is, a single reasonabily sized feature or functionality should be committed as   one single commit. If you can branch out a some functionality, let it be a more generalized API or   refactor of something that can stand on their own, then those deserve their own commits.</li> <li>Every new feature should ideally be unit-testable, this isn't always possible or easy for pure GUI   tasks, but the rest should ideally get one. The plus-side of this story is, that one can test their   own code right with the new test case.</li> <li>Bug fixes should ideally also result into an added or tweaked or fixed test case, if possible.</li> </ul>"},{"location":"CONTRIBUTING/#contributing-to-the-website","title":"Contributing to the Website","text":"<p>The website is living directly in the project's main repository. We are using MkDocs to create the website and have the project well documented.</p> <p>Please bare with us, we just started developing this website, it is incomplete and far from perfect. This is why documentation and website development needs the most love and probably external contributions.</p>"},{"location":"CONTRIBUTING/#running-the-website-locally","title":"Running the website locally","text":"<p>In order to contribute to the website, it's best tested locally in an iterative approach.</p> <p>Have a recent Python right next to you, such as Python 3.11+ and install the module requirements:</p> <pre><code>pip install docs/requirements.txt\n</code></pre> <p>Use your editor of choice to change the content in <code>docs/</code> and Running</p> <pre><code>mkdocs serve\n</code></pre> <p>to spawn the test HTTP server at port 8080.</p>"},{"location":"features/","title":"List of features","text":""},{"location":"features/#main-features","title":"Main Features","text":"<p>  Available on all 4 major platforms, Linux, OS/X, FreeBSD, Windows.    GPU-accelerated rendering.  Font ligatures support (very useful for programming and scripting)    Unicode: Emoji support (-: \ud83c\udf08  \ud83d\udc9d  \ud83d\ude1b  \ud83d\udc6a  - including ZWJ, VS15, VS16 emoji :-)    Unicode: Grapheme cluster support    Bold and italic fonts    High-DPI support.  Vi-like input modes for improved navigation, selection and copy'n'paste experience  Vertical Line Markers (quickly jump to markers in your history!)    Blurred behind transparent background when using Windows 10 or KDE window manager on Linux.    Blurrable Background image support.    Runtime configuration reload    256-color and Truecolor support    Key binding customization    Color Schemes    Profiles (grouped customization of: color scheme, login shell, and related behaviours)  Synchronized rendering (via <code>SM ? 2026</code> / <code>RM ? 2026</code>)    Text reflow (configurable via <code>SM ? 2028</code> / <code>RM ? 2028</code>)    Clickable hyperlinks via OSC 8   Clipboard setting via OSC 52  Sixel Image support   Terminal page buffer capture VT extension to quickly extract contents.    Builtin Fira Code inspired progress bar support.    Read-only mode, protecting against accidental user-input to the running application, such as Ctrl+C.  VT320 Host-programmable and Indicator statusline support Size indicator on resize </p>"},{"location":"input-modes/","title":"Input modes","text":""},{"location":"input-modes/#input-modes","title":"Input Modes","text":"<p>Normally, a terminal emulator only knows about one input mode, so there is no need of distinction.</p> <p>Inspired by Vi/Vim, the Termite terminal emulator started to introduce so called Vim-modes, where the user can use the keyboard only to screen text selection, amongst other things. So users can press Ctrl+Shift+Space to enter the vim mode. You can then move the cursor using vim motion keys and then start selecting.</p>"},{"location":"input-modes/#contour-introduces-multiple-vim-like-input-modes","title":"Contour introduces multiple Vim-like input modes:","text":"<ul> <li>insert mode: This is the default input mode. Everything is forwarded to the application.</li> <li>normal mode: Use motion keys to move the cursor and operators to act</li> <li>visual mode: Linear selection, use motion keys to alter the selection.</li> <li>visual line mode: Line based selection, use motion keys to alter the selection.</li> <li>visual block mode: Block based selection, use motion keys to alter the selection.</li> </ul>"},{"location":"input-modes/#supported-operators-normal-mode","title":"Supported operators (Normal Mode)","text":"<ul> <li>Normal: <code>[count] p</code> (paste primary clipboard <code>count</code> times)</li> <li>Normal: <code>yy</code> (yank current line to primary clipboard)</li> <li>Normal: <code>y {motion}</code> (yank given <code>motion</code> to primary clipboard)</li> <li>Normal: <code>y {TextObject}</code> (yank given <code>textObject</code> to primary clipboard, such as <code>yiw</code>, <code>yaw</code>, <code>yip</code>, <code>yap</code>, ...)</li> <li>Visual: <code>y</code> (yank current selection into primary clipboard)</li> <li><code>v</code> enables/disables visual mode</li> <li><code>V</code> enables/disables visual line mode</li> <li><code>i</code> activates insert mode</li> <li><code>Ctrl+v</code> enables/disables visual block mode</li> <li>Normal: <code>o {motion}</code> (opens resource by given <code>motion</code>, this can be a URL or local file)</li> <li>Normal: <code>o {TextObject}</code> (opens resource by given <code>textObject</code>, such as <code>oiw</code>, <code>oaw</code>, <code>oiW</code>, ...)</li> <li>Visual: <code>o</code> (open current selection into primary clipboard)</li> </ul>"},{"location":"input-modes/#supported-motions","title":"Supported motions","text":"<p>Moving the cursor outside of the current view using a motion, will cause the terminal to scroll the view to make that target line visible.</p> <ul> <li><code>[count] h</code></li> <li><code>[count] j</code></li> <li><code>[count] k</code></li> <li><code>[count] l</code></li> <li><code>[count] w</code></li> <li><code>[count] b</code></li> <li><code>[count] e</code></li> <li><code>[count] |</code></li> <li><code>0</code></li> <li><code>$</code></li> <li><code>gg</code></li> <li><code>G</code></li> <li><code>{</code> &amp; <code>}</code></li> </ul>"},{"location":"input-modes/#supported-text-objects","title":"Supported text objects","text":"<ul> <li><code>i&lt;</code>, <code>a&lt;</code> - angle brackets enclosed text</li> <li><code>i{</code>, <code>a{</code> - curly brackets enclosed text</li> <li><code>i\"</code>, <code>a\"</code> - double quotes enclosed text</li> <li><code>ip</code>, <code>ap</code> - backtick enclosed string</li> <li><code>i(</code>, <code>a(</code> - round brackets enclosed string</li> <li><code>i'</code>, <code>a'</code> - single quoted string</li> <li><code>i`</code>, <code>a`</code> - backtick enclosed string</li> <li><code>i[</code>, <code>a[</code> - square bracket enclosed string</li> <li><code>iw</code>, <code>aw</code> - regular word</li> <li><code>iW</code>, <code>aW</code> - space delimited word</li> </ul>"},{"location":"input-modes/#opening-local-files-and-urls","title":"Opening local files and URLs","text":"<p>Contour currently only supports OSC-8 hyperlinks as well as explicitly opening selected text.</p> <p>In normal mode, you can open links by moving the cursor onto a resource (URL or local file) and then press <code>oiW</code> (open in (space sperated) word) or use any of the other supported text objects to denote what to open.</p> <p>You may as well type <code>oo</code> to open the URL under the current line. This works if no other information is on this current line, while spaces are trimmed left and right of the given URL in this line.</p>"},{"location":"install/","title":"Installation","text":"<p>Installation</p> <p><code>contour</code> is packaged and available for installation on multiple distributions.</p>"},{"location":"install/#windows-10-or-newer","title":"Windows 10 or newer","text":"<p>Please download Contour for Windows (the <code>.msi</code> file) from our release page, and double click on it to install.</p>"},{"location":"install/#mac-osx","title":"Mac OS/X","text":"<pre><code>brew install contour\n</code></pre>"},{"location":"install/#fedora-linux","title":"Fedora Linux","text":"<p>Use the official package</p> <pre><code>sudo dnf install contour-terminal\n</code></pre>"},{"location":"install/#arch-linux","title":"Arch Linux","text":"<p>Please use the AUR, at https://aur.archlinux.org/packages/contour-git.</p>"},{"location":"install/#ubuntu-linux","title":"Ubuntu Linux","text":"<p>Please download Contour for Ubuntu Linux (the <code>.deb</code> files) from our official release page, and then use the following command to install:</p> <pre><code>sudo dpkg -i ~/Downloads/contour-0.3.12.262-UBUNTU_VERSION-ARCH.deb\n</code></pre> <p>If you want to provide feedback in case of any crashes, also install the debug symbols (<code>.ddeb</code>-file), e.g.:</p> <pre><code>sudo dpkg -i ~/Downloads/contour-0.3.12.262-UBUNTU_VERSION-ARCH.ddeb\n</code></pre>"},{"location":"install/#flatpak","title":"Flatpak","text":"<p>Contour is available at the Flathub store.</p> <p></p>"},{"location":"install/#installing-from-source","title":"Installing from source","text":"<p>Contour is best installed from supported package managers, but you can build from source by following the instruction below. You can Qt 5 or Qt 6, by default contour will be compiler with Qt 6, to change Qt version use <code>QTVER=5 ./scripts/install-deps.sh</code> to fetch dependencies and cmake flag <code>-D CONTOUR_QT_VERSION=5</code>.</p>"},{"location":"install/#unix-like-systems-linux-freebsd-osx","title":"UNIX-like systems (Linux, FreeBSD, OS/X)","text":""},{"location":"install/#prerequisites","title":"Prerequisites","text":"<pre><code>./scripts/install-deps.sh\n</code></pre> <p>This script might ask you for the administrator password if a package dependency can be insalled via the system package manager.</p>"},{"location":"install/#compile","title":"Compile","text":"<pre><code>cmake -S . -B build -G Ninja\ncmake --build build/\n\n# Optionally, if you want to install from source\ncmake --build build/ --target install\n</code></pre> <p>Please mind, if you want to install into a system root, e.g. <code>/usr/local</code>, you may need to prefix the install command with <code>sudo</code>.</p> <p>Also, ensure that the terminfo file is correctly resolved, as the terminfo library is very limited in locating  the correct terminfo files (e.g. it does not search in <code>/usr/local</code>), you can symlink into <code>~/.terminfo</code> however.</p>"},{"location":"install/#windows-10-or-newer_1","title":"Windows 10 or newer","text":""},{"location":"install/#prerequisites_1","title":"Prerequisites","text":"<p>For Windows, you must have Windows 10, 2018 Fall Creators Update, and Visual Studio 2019, installed. It will neither build nor run on any prior Windows OS, due to libterminal making use of ConPTY API.</p> <ol> <li>Set up vcpkg, preferably somewhere high up in the folder hierarchy, and add the folder to your <code>PATH</code>.</li> </ol> <pre><code>cd C:\\\ngit clone git clone https://github.com/Microsoft/vcpkg.git\n.\\vcpkg\\bootstrap-vcpkg.bat\n</code></pre> <ol> <li>Install Visual Studio Build Tools (make sure to select the CLI tools for    C++, which you might need to do in the separate components tab).</li> <li>Install Qt6 (i.e. to C:\\Qt)</li> <li>Open the developer version of Powershell.</li> <li>In the <code>contour</code> source folder execute <code>.\\scripts\\install-deps.ps1</code>. This step may take a very long time.</li> </ol>"},{"location":"install/#compile_1","title":"Compile","text":"<p>In the developer version of Powershell:</p> <pre><code># change paths accordingly if you installed QT and vcpkg to somewhere else\ncmake -S . -B build -DCMAKE_TOOLCHAIN_FILE=C:\\vcpkg\\scripts\\buildsystems\\vcpkg.cmake -DCMAKE_PREFIX_PATH=C:\\Qt\\6.5.0\\msvc2019_64\\lib\\cmake\ncmake --build build/\n\n# Optionally, if you want to install from source\ncmake --build build/ --target install\n</code></pre>"},{"location":"configuration/","title":"Configuring Contour","text":""},{"location":"configuration/#configuring-contour","title":"Configuring Contour","text":"<p>Contour offers a wide range of configuration options that can be customized, including color scheme, shell, initial working directory, and more. The configuration options can be categorized into several groups:</p> <ul> <li>Global options: These settings determine the overall behavior of the terminal and apply to all profiles.</li> <li>Profiles: With profiles, you can configure the terminal more granularly and create multiple profiles that can be easily switched between.</li> <li>Color scheme: Contour allows you to define different color schemes for the terminal and choose which one to use for each of the profiles. </li> </ul> <p>On Unix systems, the main configuration file is located at  <code>~/.config/contour/contour.yml</code> and is both read from and auto-generated there. On Windows systems, the file is located at  <code>%LocalAppData%\\contour\\contour.yml</code>.</p> <p>Please note that on Unix systems, the environment variable <code>XDG_CONFIG_HOME</code> (by default set to <code>~/.config</code>) is taken into account.</p> <p>By default, on Unix systems, Contour is executed with the following arguments <code>contour config ~/.config/contour/contour.yml profile main</code>. If the configuration file includes a <code>default_profile</code> variable, it will be used as the default profile. Otherwise, the first profile listed in the file will be the default one.</p>"},{"location":"configuration/#how-to","title":"How to","text":""},{"location":"configuration/#load-specific-configuration-file","title":"Load specific configuration file","text":"<p><code>contour config /path/to/file/with/configuration.yml</code></p>"},{"location":"configuration/#set-profile-for-current-session","title":"Set profile for current session","text":"<p>you can utilize the <code>profile</code> parameter with the <code>contour</code> command  <code>contour profile one_of_profiles</code></p>"},{"location":"configuration/#global-options","title":"Global options","text":"<p>Let's go through the different sections of the global configurations in the file:</p>"},{"location":"configuration/#platform_plugin","title":"<code>platform_plugin</code>","text":"<p>option allows you to override the auto-detected platform plugin to be loaded. You can specify values like <code>auto</code>, <code>xcb</code>, <code>cocoa</code>, <code>direct2d</code>, or <code>winrt</code> to determine the platform plugin. The default value is <code>auto</code>. </p>"},{"location":"configuration/#renderer","title":"<code>renderer</code>","text":"<p>section contains configuration options related to the VT Renderer, which is responsible for rendering the terminal onto the screen. It includes the <code>backend</code> option to specify  the rendering backend, with possible values of <code>default</code>, <code>software</code>, or <code>OpenGL</code>. The other options in this section control the tile mapping and caching for performance optimization. </p>"},{"location":"configuration/#word_delimiters","title":"<code>word_delimiters</code>","text":"<p>option defines the delimiters to be used when selecting words in the terminal. It is a string of characters that act as delimiters. </p>"},{"location":"configuration/#read_buffer_size","title":"<code>read_buffer_size</code>","text":"<p>option specifies the default PTY read buffer size in bytes. It is an advanced option and should be used with caution. The default value is <code>16384</code>. </p>"},{"location":"configuration/#pty_buffer_size","title":"<code>pty_buffer_size</code>","text":"<p>option sets the size in bytes per PTY Buffer Object. It is an advanced option for internal storage and should be changed carefully. The default value is <code>1048576</code>. </p>"},{"location":"configuration/#default_profile","title":"<code>default_profile</code>","text":"<p>option determines the default profile to use in the terminal.  <code>spawn_new_process</code> flag determines whether a new process should be spawned when creating a new terminal. The default value is <code>false</code>. </p>"},{"location":"configuration/#reflow_on_resize","title":"<code>reflow_on_resize</code>","text":"<p>option controls whether or not the lines in the terminal should be reflowed when a resize event occurs. The default value is <code>true</code>. </p>"},{"location":"configuration/#bypass_mouse_protocol_modifier","title":"<code>bypass_mouse_protocol_modifier</code>","text":"<p>option specifies the keyboard modifier (e.g., Shift) that can be used to bypass the terminal's mouse protocol and select screen content. </p>"},{"location":"configuration/#mouse_block_selection_modifier","title":"<code>mouse_block_selection_modifier</code>","text":"<p>option determines the modifier (e.g., Control) that needs to be pressed to initiate block selection using the left mouse button. </p>"},{"location":"configuration/#on_mouse_select","title":"<code>on_mouse_select</code>","text":"<p>option selects the action to perform when a text selection has been made. Possible values include <code>None</code>, <code>CopyToClipboard</code>, and <code>CopyToSelectionClipboard</code>. </p>"},{"location":"configuration/#live_config","title":"<code>live_config</code>","text":"<p>option determines whether the instance should reload the configuration files whenever they change. The default value is <code>false</code>. </p>"},{"location":"configuration/#images","title":"<code>images</code>","text":"<p>section contains configuration options related to inline images. It includes options like <code>sixel_scrolling</code>, <code>sixel_register_count</code>, <code>max_width</code>, and <code>max_height</code> to control various aspects of image rendering and limits. </p>"},{"location":"configuration/#input_mapping","title":"<code>input_mapping</code>","text":"<p>This section sets user defined key bindings</p>"},{"location":"configuration/#defaut-global-parameters","title":"Defaut global parameters","text":"<pre><code>platform_plugin: auto\nrenderer:\nbackend: OpenGL\ntile_hashtable_slots: 4096\ntile_cache_count: 4000\ntile_direct_mapping: true\nword_delimiters: \" /\\\\()\\\"'-.,:;&lt;&gt;~!@#$%^&amp;*+=[]{}~?|\u2502\"\nread_buffer_size: 16384\npty_buffer_size: 1048576\ndefault_profile: main\nspawn_new_process: false\nreflow_on_resize: true\nbypass_mouse_protocol_modifier: Shift\nmouse_block_selection_modifier: Control\non_mouse_select: CopyToSelectionClipboard\nlive_config: false\nimages:\nsixel_scrolling: true\nsixel_register_count: 4096\nmax_width: 0\nmax_height: 0\n</code></pre> <p>The default profile is automatically the top (first) defined profile in the configuration file, but can be explicitly set to an order-independant name using <code>default_profile</code> configuration key.</p>"},{"location":"configuration/#profiles","title":"Profiles","text":"<p>Profiles is the main part of user specific customizations, you can create more than one profile and chose which you want to use during startup or define in configuration file.</p> <p>By default each profile inherites values from <code>default_profile</code>. This means that you can specify only values that you want to change in respect to default profile, for example you can create new profile to use <code>bash</code> as a shell preserving other configuration from <code>main</code> profile </p><pre><code>profiles:\n    main:\n    # default profile here\n    bash:\n        shell: \"/usr/bin/bash\"\n</code></pre> <p>For the full list of options see generated configuration file on your system or Profiles section of documentation.</p>"},{"location":"configuration/#color-schemes","title":"Color Schemes","text":"<p>In contour you can specify different colors inside terminal, for example text background and foreground, cursor properties, selection colors and plenty others. You can configure your color profiles, whereas a color can be expressed in standard web format, with a leading # followed by red/green/blue values, 7 characters in total. You may alternatively use 0x as prefix instead of #. For example 0x102030 is equal to '#102030'.</p> <p>Syntax for color shemes repeat the one of profiles. First color scheme inside configuration file must be named <code>default</code>, each other color schemes inherit values from <code>default</code> color scheme. Example of configuration for <code>color_schemes</code> </p><pre><code>color_schemes:\n    default:\n    # values for default color scheme\n    different_selection:\n      selection:\n        background: '#fff0f0'\n</code></pre> <p>For the full list of options see generated configuration file on your system or Colors section of documentation.</p>"},{"location":"configuration/colors/","title":"Colors","text":"<p>Color scheme configure colors that are used inside terminal. To specify which color scheme you want to use you need to define the name of the scheme inside profile configuration or inline colors inside profile.</p>"},{"location":"configuration/colors/#color-scheme-configuration","title":"Color scheme configuration","text":""},{"location":"configuration/colors/#default","title":"<code>default</code>","text":"<p>section defines the default colors used in the terminal. </p><pre><code>color_schemes:\ndefault:\ndefault:\nbackground: '#1a1716'\nforeground: '#d0d0d0'\nbright_foreground: '#ffffff'\ndimmed_foreground: '#808080'\n</code></pre> background  determines the default background color of the terminal.  foreground  option sets the default foreground text color of the terminal.  bright_foreground  option sets the default foreground text color of the terminal when text text is instructed to be bold (/bright). This is only used if profile option <code>draw_bold_text_with_bright_colors</code> is set to <code>true</code> dimmed_foreground  option sets the default foreground text color of the terminal when text text is instructed to be dimmed."},{"location":"configuration/colors/#background_image","title":"<code>background_image</code>","text":"<p>section in the configuration file allows you to control various aspects of the background image feature. </p><pre><code>color_schemes:\ndefault:\nbackground_image:\npath: '/path/to/image.png'\nopacity: 0.5\nblur: false\n</code></pre> path To specify the image file to use as the background, you need to provide the full path to the image. By default, the path option is set to an empty string, indicating that background image support is disabled.  opacity option controls the opacity of the background image. It determines how transparent or intense the image appears. The default value is 0.5, which provides a moderately transparent background. You can adjust this value to make the image more or less prominent, depending on your preferences.  blur option applies a blur effect to the background image. This can help reduce distractions and keep the focus on the terminal contents. By default, the blur option is set to false, indicating that background image blurring is disabled. If you want to enable it, set the value to true."},{"location":"configuration/colors/#cursor","title":"<code>cursor</code>","text":"<p>section in the configuration file let you costimize the color of the cursosr and optionally override the text color. </p><pre><code>color_schemes:\ndefault:\ncursor:\ndefault: CellForeground\ntext: CellBackground\n</code></pre> default option allows you to specify the color of the cursor shape. By default, the default value is set to CellForeground, which means the cursor color will be the same as the cell's foreground color. You can change this value to any valid RGB color or use the special options CellForeground or CellBackground.  text allows you to specify the color of the characters that would be covered by the cursor shape. This is useful for ensuring readability when the cursor overlaps with the text. By default, the text value is set to CellBackground, which means the overridden text color will be the same as the cell's background color. Similarly to the default option, you can specify any valid RGB color or use the CellForeground or CellBackground options."},{"location":"configuration/colors/#hyperlink_decoration","title":"<code>hyperlink_decoration</code>","text":"<p>allows you to customize the colors used for hyperlink decoration when hovering over them. </p><pre><code>color_schemes:\ndefault:\nhyperlink_decoration:\nnormal: '#f0f000'\nhover: '#ff0000'\n</code></pre> normal  defines the color to be used for hyperlink decoration in its normal state (not being hovered).  hover  determines the color to be applied to hyperlink decoration when it is being hovered over."},{"location":"configuration/colors/#vi_mode_highlight","title":"<code>vi_mode_highlight</code>","text":"<p>customize the colors used for highlighting in Vi mode. </p><pre><code>color_schemes:\ndefault:\nvi_mode_highlight:\nforeground: CellForeground\nforeground_alpha: 1.0\nbackground: '#ffa500'\nbackground_alpha: 0.5\n</code></pre> foreground  section specifies the color to be used for the foreground of the highlighted text.  foreground_alpha option determines the transparency level of the foreground color. It accepts a value between 0.0 (fully transparent) and 1.0 (fully opaque). This option allows you to control the visibility of the highlighted text.  background option in the vi_mode_highlight section defines the color to be used for the background of the highlighted text.  background_alpha option controls the transparency level of the background color. It accepts a value between 0.0 (fully transparent) and 1.0 (fully opaque)."},{"location":"configuration/colors/#vi_mode_cursorline","title":"<code>vi_mode_cursorline</code>","text":"<p>customize the colors used for the cursor line in Vi mode. Options similar to <code>vi_mode_highlight</code>. </p><pre><code>color_schemes:\ndefault:\nvi_mode_cursorline:\nforeground: CellForeground\nforeground_alpha: 1.0\nbackground: '#ffa500'\nbackground_alpha: 0.5\n</code></pre>"},{"location":"configuration/colors/#selection","title":"<code>selection</code>","text":"<p>section customize the colors used for text selection. Options similar to <code>vi_mode_highlight</code>. </p><pre><code>color_schemes:\ndefault:\nselection:\nforeground: CellForeground\nforeground_alpha: 1.0\nbackground: '#4040f0'\nbackground_alpha: 0.5\n</code></pre>"},{"location":"configuration/colors/#search_highlight","title":"<code>search_highlight</code>","text":"<p>section customize the colors used for search highlight. Options similar to <code>vi_mode_highlight</code>. </p><pre><code>color_schemes:\ndefault:\nsearch_highlight:\nforeground: CellForeground\nforeground_alpha: 1.0\nbackground: '#4040f0'\nbackground_alpha: 0.5\n</code></pre>"},{"location":"configuration/colors/#search_highlight_focused","title":"<code>search_highlight_focused</code>","text":"<p>section customize the colors used for focused search highlight. Options similar to <code>vi_mode_highlight</code>. </p><pre><code>color_schemes:\ndefault:\nsearch_highlight_focused:\nforeground: CellForeground\nforeground_alpha: 1.0\nbackground: '#4040f0'\nbackground_alpha: 0.5\n</code></pre>"},{"location":"configuration/colors/#word_highlight_current","title":"<code>word_highlight_current</code>","text":"<p>Coloring for the word that is highlighted due to double-clicking it. Options similar to <code>vi_mode_highlight</code>. </p><pre><code>color_schemes:\ndefault:\nword_highlight_current:\nforeground: CellForeground\nforeground_alpha: 1.0\nbackground: '#4040f0'\nbackground_alpha: 0.5\n</code></pre>"},{"location":"configuration/colors/#word_highlight_other","title":"<code>word_highlight_other</code>","text":"<p>Coloring for the word that is highlighted due to double-clicking another word that matches this word. Options similar to <code>vi_mode_highlight</code>. </p><pre><code>color_schemes:\ndefault:\nword_highlight_other:\nforeground: CellForeground\nforeground_alpha: 1.0\nbackground: '#4040f0'\nbackground_alpha: 0.5\n</code></pre>"},{"location":"configuration/colors/#indicator_statusline","title":"<code>indicator_statusline</code>","text":"<p>Defines the colors to be used for the Indicator status line. </p><pre><code>color_schemes:\ndefault:\nindicator_statusline:\nforeground: '#808080'\nbackground: '#000000'\n</code></pre>"},{"location":"configuration/colors/#indicator_statusline_inactive","title":"<code>indicator_statusline_inactive</code>","text":"<p>Alternate colors to be used for the indicator status line when this terminal is currently not in focus. </p><pre><code>color_schemes:\ndefault:\nindicator_statusline_inactive:\nforeground: '#808080'\nbackground: '#000000'\n</code></pre>"},{"location":"configuration/colors/#input_method_editor","title":"<code>input_method_editor</code>","text":"<p>Colors for the IME (Input Method Editor) area. </p><pre><code>color_schemes:\ndefault:\nindicator_statusline_inactive:\nforeground: '#808080'\nbackground: '#000000'\n</code></pre>"},{"location":"configuration/colors/#normal","title":"<code>normal</code>","text":"<p>Normal colors </p><pre><code>color_schemes:\ndefault:\nnormal:\nblack:   '#000000'\nred:     '#c63939'\ngreen:   '#00a000'\nyellow:  '#a0a000'\nblue:    '#4d79ff'\nmagenta: '#ff66ff'\ncyan:    '#00a0a0'\nwhite:   '#c0c0c0'\n</code></pre>"},{"location":"configuration/colors/#bright","title":"<code>bright</code>","text":"<p>Bright colors </p><pre><code>color_schemes:\ndefault:\nnormal:\nblack:   '#707070'\nred:     '#ff0000'\ngreen:   '#00ff00'\nyellow:  '#ffff00'\nblue:    '#0000ff'\nmagenta: '#ff00ff'\ncyan:    '#00ffff'\nwhite:   '#ffffff'\n</code></pre>"},{"location":"configuration/colors/#default-color-scheme","title":"Default color scheme","text":"<pre><code>color_schemes:\ndefault:\ndefault:\nbackground: '#1a1716'\nforeground: '#d0d0d0'\nbackground_image:\nopacity: 0.5\nblur: false\ncursor:\ndefault: CellForeground\ntext: CellBackground\nhyperlink_decoration:\nnormal: '#f0f000'\nhover: '#ff0000'\nvi_mode_highlight:\nforeground: CellForeground\nforeground_alpha: 1.0\nbackground: '#ffa500'\nbackground_alpha: 0.5\nvi_mode_cursorline:\nforeground: '#ffffff'\nforeground_alpha: 0.2\nbackground: '#808080'\nbackground_alpha: 0.4\nselection:\nforeground: CellForeground\nforeground_alpha: 1.0\nbackground: '#4040f0'\nbackground_alpha: 0.5\nsearch_highlight:\nforeground: CellBackground\nbackground: CellForeground\nforeground_alpha: 1.0\nbackground_alpha: 1.0\nsearch_highlight_focused:\nforeground: CellBackground\nbackground: CellForeground\nforeground_alpha: 1.0\nbackground_alpha: 1.0\nword_highlight_current:\nforeground: CellForeground\nbackground: '#909090'\nforeground_alpha: 1.0\nbackground_alpha: 0.5\nword_highlight_other:\nforeground: CellForeground\nbackground: '#909090'\nforeground_alpha: 1.0\nbackground_alpha: 0.5\nindicator_statusline:\nforeground: '#808080'\nbackground: '#000000'\nindicator_statusline_inactive:\nforeground: '#808080'\nbackground: '#000000'\ninput_method_editor:\nforeground: '#FFFFFF'\nbackground: '#FF0000'\nnormal:\nblack:   '#000000'\nred:     '#c63939'\ngreen:   '#00a000'\nyellow:  '#a0a000'\nblue:    '#4d79ff'\nmagenta: '#ff66ff'\ncyan:    '#00a0a0'\nwhite:   '#c0c0c0'\nbright:\nblack:   '#707070'\nred:     '#ff0000'\ngreen:   '#00ff00'\nyellow:  '#ffff00'\nblue:    '#0000ff'\nmagenta: '#ff00ff'\ncyan:    '#00ffff'\nwhite:   '#ffffff'\n</code></pre>"},{"location":"configuration/profiles/","title":"Profiles","text":"<p>All profiles inside configuration files share parent node <code>profiles</code>. To create profile you need to specify child node </p><pre><code>profiles:\nmain:\n#default configuration\nprofile_for_windows:\n# windows specific entries\nprofile_for_macos:\n# macos specific entries\n</code></pre>"},{"location":"configuration/profiles/#profile-configuration","title":"Profile configuration","text":""},{"location":"configuration/profiles/#shell","title":"<code>shell</code>","text":"<p>configuratin section allows you to specify the process to be started inside the terminal. It provides flexibility to override the default login shell and supports logging in to a remote host. </p><pre><code>profiles:\nprofile_name:\nshell: \"/bin/bash\"\narguments: [\"some\", \"optional\", \"arguments\", \"for\", \"the\", \"shell\"]\n</code></pre> arguments (optional) Allows you to provide additional command-line arguments to the shell executable. These arguments will be passed to the shell when it is started inside the terminal."},{"location":"configuration/profiles/#escape_sandbox","title":"<code>escape_sandbox</code>","text":"<p>option in the configuration file allows you to control the sandboxing behavior when the terminal is executed from within Flatpak. This configuration is relevant only if the terminal is running in a Flatpak environment. </p><pre><code>profiles:\nprofile_name:\nescape_sandbox: true\n</code></pre>"},{"location":"configuration/profiles/#ssh","title":"<code>ssh</code>","text":"<p>With this key, you can bypass local PTY and process execution and directly connect via TCP/IP to a remote SSH server.</p> <pre><code>profiles:\nprofile_name:\nssh:\nhost: remote-server.example.com\nport: 22\nuser: \"CustomUserName\"\nprivate_key: \"path/to/key\"\npublic_key: \"path/to/key.pub\"\nknown_hosts: \"~/.ssh/known_hosts\"\nforward_agent: false\n</code></pre> <p>Note, only <code>host</code> option is required. Everything else is defaulted. Keep in mind, that the user's <code>~/.ssh/config</code> will be parsed with respect to the supported options above. These values can be overridden in the local Contour configuration as follows:</p> <p> ssh.host SSH server to establish the connection to.  ssh.port SSH port (defaults to <code>22</code>). Only specify this value if it is deviating from the default value <code>22</code>.  ssh.private_key Path to private key to use for key based authentication.  ssh.public_key Path to public key that belongs to the private key. When using key based authentication, it depends on the underlying backend, if the public key is also required. OpenSSL for example does not require it.  ssh.known_hosts Path to <code>known_hosts</code> file. This defaults to and usually is located in <code>~/.ssh/known_hosts</code>.  ssh.forward_agent Boolean, indicating wether or not the local SSH auth agent should be requested to be forwarded. Note: this is currently not working due to an issue related to the underlying library being used, but is hopefully resolved soon.</p> <p>Note, custom environment variables may be passed as well, when connecting to an SSH server using this builtin-feature. Mind, that the SSH server is not required to accept all environment variables.</p> <p>If an OpenSSH server is used, have a look at the <code>AcceptEnv</code> configuration setting in the <code>sshd_config</code> configuration file on the remote SSH server, to configure what environment variables are permitted to be sent.</p>"},{"location":"configuration/profiles/#copy_last_mark_range_offset","title":"<code>copy_last_mark_range_offset</code>","text":"<p>configuration option is an advanced setting that is useful when using the CopyPreviousMarkRange feature with multiline prompts. It allows you to specify an offset value that is added to the current cursor's line number minus 1 (i.e., the line above the current cursor). </p><pre><code>profiles:\nprofile_name:\ncopy_last_mark_range_offset: 0\n</code></pre>"},{"location":"configuration/profiles/#initial_working_directory","title":"<code>initial_working_directory</code>","text":"<p>configuration option allows you to specify the initial working directory when a new terminal is spawned. The value specified here determines the directory in which the terminal will be opened. </p><pre><code>profiles:\nprofile_name:\ninitial_working_directory: \"~\"\n</code></pre>"},{"location":"configuration/profiles/#show_title_bar","title":"<code>show_title_bar</code>","text":"<p>configuration option determines whether or not the title bar will be shown when the terminal profile is activated. </p><pre><code>profiles:\nprofile_name:\nshow_title_bar: true\n</code></pre>"},{"location":"configuration/profiles/#size_indicator_on_resize","title":"<code>size_indicator_on_resize</code>","text":"<p>configuration option determines whether or not the size indicator will be shown when terminal will resized. </p><pre><code>profiles:\nprofile_name:\nsize_indicator_on_resize: true\n</code></pre>"},{"location":"configuration/profiles/#fullscreen","title":"<code>fullscreen</code>","text":"<p>configuration option determines whether the terminal's screen should be put into fullscreen mode when the terminal profile is activated. Fullscreen mode expands the terminal window to occupy the entire screen, providing a distraction-free environment for your terminal sessions. </p><pre><code>profiles:\nprofile_name:\nfullscreen: false\n</code></pre>"},{"location":"configuration/profiles/#maximized","title":"<code>maximized</code>","text":"<p>configuration option determines whether the terminal window should be maximized when the specified profile is activated. Maximizing a window expands it to fill the entire available space on the screen, excluding the taskbar or other system elements. </p><pre><code>profiles:\nprofile_name:\nmaximized: false\n</code></pre>"},{"location":"configuration/profiles/#margins","title":"<code>margins</code>","text":"<p>Enforces a horizontal and vertical margin to respect on both sides of the terminal. This is particularily useful on operating systems (like MacOS) that draw the border frame into the main widgets space, or simply to create some artificial space to improve the user's focus.</p> <pre><code>profiles:\nprofile_name:\nmargins:\nhorizontal: 5\nvertical: 0\n</code></pre>"},{"location":"configuration/profiles/#bell","title":"<code>bell</code>","text":"<p>Configuration section permits tuning the behavior of the terminal bell.</p> <p></p><pre><code>profiles:\nprofile_name:\nbell:\nsound: \"default\"\nalert: false\n</code></pre> sound This option determines the sound of <code>BEL</code> (also <code>\\a</code> or <code>0x07</code>) to <code>off</code> or <code>default</code> or sound generated by a file located at <code>path</code>.  alert This option determines whether or not a window alert will be raised each time a bell is ringed. Useful for tiling window managers like i3 or sway."},{"location":"configuration/profiles/#wm_class","title":"<code>wm_class</code>","text":"<p>Configuration option defines the class part of the <code>WM_CLASS</code> property of the terminal window. The <code>WM_CLASS</code> property is a standard X11 property used to identify and classify windows by their class and instance. </p><pre><code>profiles:\nprofile_name:\nwm_class: \"contour\"\n</code></pre>"},{"location":"configuration/profiles/#environment","title":"<code>environment</code>","text":"<p>configuration option allows you to define environment variables that will be passed to the shell when the terminal is started. Environment variables are used to customize the behavior and configuration of programs running in the terminal. </p><pre><code>profiles:\nprofile_name:\nenvironment:\nTERM: contour\nCOLORTERM: truecolor\n</code></pre> TERM  The TERM variable is commonly used to specify the terminal type or emulation. In this case, it is set to \"contour\".   COLORTERM The COLORTERM variable is used to indicate support for true color (24-bit color) in the terminal. Setting it to \"truecolor\" indicates that the terminal supports true color rendering."},{"location":"configuration/profiles/#terminal_id","title":"<code>terminal_id</code>","text":"<p>configuration option allows you to specify the terminal type that will be advertised by the terminal emulator. The terminal type indicates the set of capabilities and features that the terminal supports, enabling compatibility with different applications and systems. </p><pre><code>profiles:\nprofile_name:\nterminal_id: VT525\n</code></pre>"},{"location":"configuration/profiles/#terminal_size","title":"<code>terminal_size</code>","text":"<p>configuration option allows you to specify the initial size of the terminal window in terms of the number of columns and lines. </p><pre><code>profiles:\nprofile_name:\nterminal_size:\ncolumns: 80\nlines: 25\n</code></pre> columns This option specifies the number of columns (characters) to be displayed in the terminal window. In the provided example, the value is set to 80.  lines This option specifies the number of lines to be displayed in the terminal window. In the provided example, the value is set to 25."},{"location":"configuration/profiles/#history","title":"<code>history</code>","text":"<p>configuration allows you to customize the behavior and settings related to the terminal's history, including the number of preserved lines, auto-scrolling, and scroll events. </p><pre><code>profiles:\nprofile_name:\nhistory:\nlimit: 1000\nauto_scroll_on_update: true\nscroll_multiplier: 3\n</code></pre> limit This option specifies the number of lines to preserve in the terminal's history. A value of -1 indicates unlimited history, meaning that all lines are preserved. In the provided example, the limit is set to 1000.  auto_scroll_on_update This boolean option determines whether the terminal automatically scrolls down to the bottom when new content is added. If set to true, the terminal will scroll down on screen updates. If set to false, the terminal will maintain the current scroll position. In the provided example, auto_scroll_on_update is set to true.   scroll_multiplier This option defines the number of lines to scroll when the ScrollUp or ScrollDown events occur. By default, scrolling up or down moves three lines at a time. You can adjust this value as needed. In the provided example, scroll_multiplier is set to 3."},{"location":"configuration/profiles/#scrollbar","title":"<code>scrollbar</code>","text":"<p>configuration allows you to customize the appearance and behavior of the visual scrollbar in the terminal. </p><pre><code>profiles:\nprofile_name:\nscrollbar:\nposition: Hidden\nhide_in_alt_screen: true\n</code></pre> position  This option specifies the position of the scrollbar in the terminal window. It can be set to one of the following values: Left, Right, Hidden.  hide_in_alt_screen This boolean option determines whether the scrollbar should be hidden when the terminal is in the alternate screen mode. If set to true, the scrollbar will be hidden when the terminal switches to the alternate screen. If set to false, the scrollbar will remain visible even in the alternate screen mode."},{"location":"configuration/profiles/#mouse","title":"<code>mouse</code>","text":"<p>configuration allows you to control the behavior of the mouse in the terminal. </p><pre><code>profiles:\nprofile_name:\nmouse:\nhide_while_typing: true\n</code></pre> hide_while_typing This boolean option determines whether the mouse cursor should be hidden while typing in the terminal. When set to true, the mouse cursor will be hidden when you start typing. When set to false, the mouse cursor will remain visible while typing."},{"location":"configuration/profiles/#permissions","title":"<code>permissions</code>","text":"<p>configuration allows you to control the access permissions for specific VT sequences in the terminal. </p><pre><code>profiles:\nprofile_name:\npermissions:\nchange_font: ask\ncapture_buffer: ask\ndisplay_host_writable_statusline: ask\n</code></pre> change_font This option determines the access permission for changing the font using the VT sequence <code>OSC 50 ; Pt ST</code>. The possible values are: allow, deny, ask.  capture_buffer This option determines the access permission for capturing the screen buffer using the VT sequence <code>CSI &gt; Pm ; Ps ; Pc ST</code>. The response can be read from stdin as the sequence <code>OSC 314 ; &lt;screen capture&gt; ST</code>. The possible values are: allow, deny, ask. display_host_writable_statusline This option determines the access permission for displaying the \"Host Writable Statusline\" programmatically using the VT sequence <code>DECSSDT 2</code>. The possible values are: allow, deny, ask."},{"location":"configuration/profiles/#highlight_word_and_matches_on_double_click","title":"<code>highlight_word_and_matches_on_double_click</code>","text":"<p>configuration option enables the highlighting of a word and its matches when double-clicked on the primary screen in the terminal. </p><pre><code>profiles:\nprofile_name:\nhighlight_word_and_matches_on_double_click: true\n</code></pre> change_font  When this option is enabled (true), the following behavior occurs:      - Double-clicking on a word in the primary screen will select and highlight the double-clicked word.      - Additionally, all other occurrences of the same word will also be highlighted without being selected.      - This feature is implemented by initiating a search for the double-clicked word.      - You can use the FocusNextSearchMatch and FocusPreviousSearchMatch actions to navigate to the next or previous occurrence of the same word, even if it is outside the current viewport."},{"location":"configuration/profiles/#font","title":"<code>font</code>","text":"<p>section of the configuration allows you to customize the font settings for the terminal. </p><pre><code>profiles:\nprofile_name:\nfont:\nsize: 12\ndpi_scale: 1.0\nlocator: native\ntext_shaping:\nengine: native\nbuiltin_box_drawing: true\nrender_mode: gray\nstrict_spacing: true\nregular:\nfamily: \"monospace\"\nweight: regular\nslant: normal\nfeatures: []\nemoji: \"emoji\"\n</code></pre> size Specifies the initial font size in pixels. The default value is 12.  dpi_scale Allows applying a DPI scaling factor on top of the system's configured DPI. The default value is 1.0.  locator  Determines the font locator engine to use for locating font files and font fallback. Possible values are native, fontconfig, CoreText, and DirectWrite. text_shaping.engine Selects the text shaping and font rendering engine. Supported values are native, DirectWrite, CoreText, and OpenShaper.   builtin_box_drawing Specifies whether to use built-in textures for pixel-perfect box drawing. If disabled, the font's provided box drawing characters will be used. The default value is true. render_mode Specifies the font render mode, which tells the font rasterizer engine what rendering technique to use. Available modes are lcd, light, gray, and monochrome.   strict_spacing Indicates whether only monospace fonts should be included in the font and font fallback list. The default value is true.   regular Defines the regular font style with the following parameters:   regular.family  Specifies the font family name, such as \"monospace\", \"Courier New\", or \"Fira Code\".  regular.weight  Specifies the font weight, such as thin, extra_light, light, demilight, book, normal, medium, demibold, bold, extra_bold, black, or extra_black.  regular.slant  Specifies the font slant, which can be normal, italic, or oblique.  regular.features Sets optional font features to be enabled. This is usually a 4-letter code, such as ss01 or ss02. Refer to your font's documentation for supported features. By default, no features are enabled.  emoji Specifies the font to be used for displaying Unicode symbols with emoji presentation. The default value is \"emoji\"."},{"location":"configuration/profiles/#draw_bold_text_with_bright_colors","title":"<code>draw_bold_text_with_bright_colors</code>","text":"<p>Specifies whether bold text should be rendered in bright colors for indexed colors. If disabled, normal colors will be used for bold text. The default value is false. </p><pre><code>profiles:\nprofile_name:\ndraw_bold_text_with_bright_colors: false\n</code></pre>"},{"location":"configuration/profiles/#cursor","title":"<code>cursor</code>","text":"<p>section of the configuration allows you to customize the appearance and behavior of the terminal cursor. </p><pre><code>profiles:\nprofile_name:\ncursor:\nshape: \"bar\"\nblinking: false\nblinking_interval: 500\n</code></pre> shape Specifies the shape of the cursor. You can choose from the following options:  -block: A filled rectangle.  -rectangle: Just the outline of a block.  -underscore: A line under the text.  -bar: The well-known i-Beam cursor.  blinking Determines whether the cursor should blink over time. If set to true, the cursor will blink; if set to false, the cursor will remain static.  blinking_interval Specifies the blinking interval in milliseconds. This value defines how quickly the cursor alternates between being visible and invisible when blinking is enabled."},{"location":"configuration/profiles/#normal_mode","title":"<code>normal_mode</code>","text":"<p>section in the configuration allows you to customize the appearance and behavior of the cursor specifically in vi-like normal mode. </p><pre><code>profiles:\nprofile_name:\nnormal_mode:\ncursor:\nshape: block\nblinking: false\nblinking_interval: 500\n</code></pre>"},{"location":"configuration/profiles/#visual_mode","title":"<code>visual_mode</code>","text":"<p>section in the configuration allows you to customize the appearance and behavior of the cursor specifically in vi-like normal mode. </p><pre><code>profiles:\nprofile_name:\nnormal_mode:\ncursor:\nshape: block\nblinking: false\nblinking_interval: 500\n</code></pre>"},{"location":"configuration/profiles/#vi_mode_highlight_timeout","title":"<code>vi_mode_highlight_timeout</code>","text":"<p>option in the configuration determines the duration in milliseconds for which the yank highlight is shown in vi mode. After yanking (copying) text in vi mode, the yanked text is typically highlighted momentarily to provide visual feedback. This configuration option allows you to specify the duration of this highlight. </p><pre><code>profiles:\nprofile_name:\nvi_mode_highlight_timeout: 300\n</code></pre>"},{"location":"configuration/profiles/#vi_mode_scrolloff","title":"<code>vi_mode_scrolloff</code>","text":"<p>option in the configuration sets the scrolloff value for cursor movements in normal and visual (block) modes. The scrolloff value determines the minimum number of lines to keep visible above and below the cursor when scrolling. In other words, it controls the amount of margin or padding around the cursor during scrolling operations. </p><pre><code>profiles:\nprofile_name:\nvi_mode_scrolloff: 8\n</code></pre>"},{"location":"configuration/profiles/#status_line","title":"<code>status_line</code>","text":"<p>section in the configuration file allows you to customize the behavior and appearance of the status line in the terminal. </p><pre><code>profiles:\nprofile_name:\nstatus_line:\ndisplay: none\nposition: bottom\nsync_to_window_title: false\n</code></pre> display specifies whether the status line should be shown or not. The possible values are none (status line is not shown) and indicator (status line is shown). In the example, the status line is set to none, meaning it will not be displayed initially.  position determines the placement of the status line. It can be set to top or bottom. In the example, the status line is set to bottom, indicating that it will appear at the bottom of the terminal window if enabled.  sync_to_window_title controls whether the window title should be synchronized with the Host Writable status line. If the Host Writable status line is denied, enabling this option will update the window title accordingly. By default, this option is set to false."},{"location":"configuration/profiles/#background","title":"<code>background</code>","text":"<p>section in the configuration file allows you to customize the background settings for the terminal. </p><pre><code>profiles:\nprofile_name:\nbackground:\nopacity: 1.0\nblur: false\n</code></pre> opacity specifies the background opacity to use. The value ranges from 0.0 to 1.0, where 0.0 represents fully transparent and 1.0 represents fully opaque. You can adjust this value to control the transparency level of the terminal's background.  blur determines whether the transparent background should be blurred on platforms that support it. Currently, only Windows 10 is supported for background blurring. By default, this option is set to false, meaning no background blurring will be applied."},{"location":"configuration/profiles/#colors","title":"<code>colors</code>","text":"<p>section in the configuration file allows you to specify the colorscheme to use for the terminal. </p><pre><code>profiles:\nprofile_name:\ncolors: \"default\"\n</code></pre> <p>To make the terminal's color scheme dependant on OS appearance (dark and light mode) settings, you need to specify two color schemes:</p> <pre><code>profiles:\nprofile_name:\ncolors:\ndark: \"some_dark_scheme_name\"\nlight: \"some_light_scheme_name\"\n</code></pre> <p>With this, the terminal will use the color scheme as specified in <code>dark</code> when OS dark mode is on, and <code>light</code>'s color scheme otherwise.</p>"},{"location":"configuration/profiles/#hyperlink_decoration","title":"<code>hyperlink_decoration:</code>","text":"<p>section in the configuration file allows you to configure the styling and colorization of hyperlinks when they are displayed in the terminal and when they are hovered over by the cursor. </p><pre><code>profiles:\nprofile_name:\nhyperlink_decoration:\nnormal: dotted\nhover: underline\n</code></pre>"},{"location":"configuration/profiles/#default-profile","title":"Default profile","text":"<pre><code>profiles:\nmain:\nescape_sandbox: true\ncopy_last_mark_range_offset: 0\ninitial_working_directory: \"~\"\nshow_title_bar: true\nfullscreen: false\nmaximized: false\nwm_class: \"contour\"\nterminal_id: VT525\nterminal_size:\ncolumns: 80\nlines: 25\nhistory:\nlimit: 1000\nauto_scroll_on_update: true\nscroll_multiplier: 3\nscrollbar:\nposition: Hidden\nhide_in_alt_screen: true\nmouse:\nhide_while_typing: true\npermissions:\nchange_font: ask\ncapture_buffer: ask\ndisplay_host_writable_statusline: ask\nhighlight_word_and_matches_on_double_click: true\nfont:\nsize: 12\ndpi_scale: 1.0\nlocator: native\ntext_shaping:\nengine: native\nbuiltin_box_drawing: true\nrender_mode: gray\nstrict_spacing: true\nregular:\nfamily: \"monospace\"\nweight: regular\nslant: normal\nfeatures: []\nemoji: \"emoji\"\ndraw_bold_text_with_bright_colors: false\ncursor:\nshape: \"bar\"\nblinking: false\nblinking_interval: 500\nnormal_mode:\ncursor:\nshape: block\nblinking: false\nblinking_interval: 500\nvisual_mode:\ncursor:\nshape: block\nblinking: false\nblinking_interval: 500\nvi_mode_highlight_timeout: 300\nvi_mode_scrolloff: 8\nstatus_line:\ndisplay: none\nposition: bottom\nsync_to_window_title: false\nbackground:\nopacity: 1.0\nblur: false\ncolors: \"default\"\nhyperlink_decoration:\nnormal: dotted\nhover: underline\n</code></pre>"},{"location":"demo/font-ligatures/","title":"Font ligatures","text":""},{"location":"demo/font-ligatures/#font-ligatures","title":"Font Ligatures","text":"<p>Contour renders your font ligatures out of the box. If you font supports them, Contour will render them.</p> <p></p>"},{"location":"demo/images/","title":"Images","text":""},{"location":"demo/images/#image-support","title":"Image Support","text":"<p>Contour implements first-class Sixel image support.</p> <p>Most notably supporting libraries, are notcurses and libsixel.</p> <p>Also, libsixel does provide a CLI to convert well known image formats (like PNG) to Sixel format and have them printed to the terminal.</p> <p> </p>"},{"location":"demo/ime/","title":"Input method editor (IME)","text":""},{"location":"demo/ime/#input-method-editor-ime","title":"Input method editor (IME)","text":"<p>An input method (or input method editor, commonly abbreviated IME) is an operating system component or program that enables users to generate characters not natively available on their input devices by using sequences of characters (or mouse operations) that are available to them. Using an input method is usually necessary for languages that have more graphemes than there are keys on the keyboard. More info can be found on wikipedia and with more info how to setup it and use here wiki.archlinux</p>"},{"location":"demo/ime/#example-of-emoji-input-in-contour-using-ibus","title":"Example of emoji input in contour using ibus","text":"<p>List of emojis from unicode</p> <p>You can insert any unicode character using ibus IME by pressing Ctrl+Shift+u (default) and then insert unicode code for the emoji or other character.</p> <p></p>"},{"location":"demo/ime/#example-of-input-using-pinyin-via-ibus","title":"Example of input using pinyin via ibus","text":""},{"location":"demo/input-modes/","title":"Input Modes","text":""},{"location":"demo/input-modes/#input-modes","title":"Input Modes","text":"<p>Just like with the power of Vi-like modes in some editors, Contour Terminal comes with so called vi-like modes to empower the advanced user with very fast access to the screen and its history.</p>"},{"location":"demo/input-modes/#select-yank-paste","title":"Select, Yank, Paste","text":"Your browser does not support the video tag.  <p>This little videos shows how to get into normal mode (Ctrl+Shift+Space) and move to the text that is to be yanked (<code>y</code>) into the clipboard. Mind, the clipboard is being pasted with newlines being stripped off (<code>&lt;Shift-p&gt;</code>).</p> <p>Note how the statusline at the bottom is reflecting the current input mode.</p> <p>For more information on what motions Contour supports, please refer to its documentation here.</p>"},{"location":"demo/line-marks/","title":"Line marks","text":""},{"location":"demo/line-marks/#line-marks","title":"Line Marks","text":"<p>Ever wanted to jump quickly to the top of the previous prompt? With a little bit of shell integration, you can make the shell tell the terminal which lines in your screen and scrollback buffer to remember.</p>"},{"location":"demo/line-marks/#setting-a-line-mark","title":"Setting a line mark","text":"<p>This is what a shell integration would do, but you can simply mark lines yourself by trivially writing to <code>stdout</code>, as follows:</p> <pre><code>printf \"\\033[&gt;M\"\n</code></pre> <p>This will tell the terminal to remember the line as a jump-target</p>"},{"location":"demo/line-marks/#jump-via-shortcut","title":"Jump via shortcut","text":"<p>Ensure you have a similar configuration set as follows to relatively jump up or down of your marked lines.</p> <pre><code>input_mapping:\n- { mods: [Control, Alt], key: K, action: ScrollMarkUp,   mode: \"~Alt\" }\n- { mods: [Control, Alt], key: J, action: ScrollMarkDown, mode: \"~Alt\" }\n</code></pre>"},{"location":"demo/line-marks/#jump-extension-to-vi-like-normal-mode","title":"Jump extension to Vi-like Normal Mode","text":"<p>Use <code>[m</code> and <code>]m</code> to jump the the next line mark up and down when being in normal input mode.</p> <p>Please see Input Modes for more information.</p>"},{"location":"demo/line-marks/#line-marks-as-text-objects","title":"Line marks as text objects","text":"<p>In Vi-like normal mode, you can span a text object in between two line marks, as follows:</p> <ul> <li><code>vim</code> - visual select within two line marks (excluding marked lines)</li> <li><code>vam</code> - visual select around two line marks (including marked line)</li> <li><code>yim</code> - yank within two line marks (excluding marked lines)</li> <li><code>yam</code> - yank around two line marks (including marked line)</li> </ul> <p>Please see Input Modes for more information.</p>"},{"location":"demo/size_indicator/","title":"Size indicator","text":""},{"location":"demo/size_indicator/#size-indicator","title":"Size indicator","text":"<p>On resize window with current terminal size will apear</p> <p></p>"},{"location":"demo/statusline/","title":"Status line","text":""},{"location":"demo/statusline/#statusline","title":"Statusline","text":"<p>The Statusline in Contour is an implementation of the DEC VT320 statusline feature. We aim to revive this feature as we see great use to it.</p>"},{"location":"demo/statusline/#indicator-statusline","title":"Indicator Statusline","text":"<p>This is the most obvious and probably most used one. It's the statusline as you may be used to it.</p> <p>Contour shows relevant contextual information on it, such as:</p> <ul> <li>the clock,</li> <li>current VT emulation mode,</li> <li>input mode</li> </ul> <p>and much more, depending on the context.</p> <p>This line can be actively toggled by the user via configuration, e.g. via:</p> <pre><code>input_mapping:\n- { mods: [Control, Alt],   key: '.',           action: ToggleStatusLine }\n</code></pre>"},{"location":"demo/statusline/#host-programmable-statusline","title":"Host Programmable Statusline","text":"<p>This statusline can be alternatively displayed and can be written to and fully controlled like the main display.</p> <p>There are not many applications yet doing so, but there would be a great use to such a feature by any application that has fast output but a rarely updating status line, maybe even tmux or screen could make use of it to trivialize the common use-case.</p> <p>If you consider playing around with it, have a look at the VT sequences</p> <ul> <li><code>DECSASD</code> - Select Active Status Display</li> <li><code>DECSSDT</code> - Select Status Display (Line) Type</li> </ul>"},{"location":"internals/","title":"Contour Terminal Emulator - Internals","text":""},{"location":"internals/#contour-terminal-emulator-internals","title":"Contour Terminal Emulator - Internals","text":""},{"location":"internals/#repository-layout","title":"Repository Layout","text":"<pre><code>docs/             - Contour documentation and website\ncmake/            - CMake helper modules\nscripts/          - general development assisting and CI helper scripts\nsrc/              - Contour source code\n  contour/        - GUI terminal emulator application (business logic)\n  crispy/         - fundamentals library\n  text_shaper/    - font location and text shaping &amp; rasterization library\n  vtbackend/      - core terminal library\n  vtparser/       - VT parser library\n  vtpty/          - PTY library\n  vtrasterizer/   - frontend independant Terminal rendering library\ntest/             - Contains a set of test scripts.\n</code></pre>"},{"location":"internals/#crispy-library","title":"<code>crispy</code> library","text":"<p>This library contains super generic helper functions that are too small to be their own library and ease general development.</p>"},{"location":"internals/#text_shaper-library","title":"<code>text_shaper</code> library","text":"<p>This library abstracts font location service, text shaping, as well as glyph rasterization into a platform independant API.</p>"},{"location":"internals/#vtpty-library","title":"<code>vtpty</code> library","text":"<p><code>vtpty</code> provides an abstract API to construct a PTY handle to communicate between a terminal emulator (master) and a connected application (slave).</p>"},{"location":"internals/#vtparser-library","title":"<code>vtparser</code> library","text":"<p><code>vtparser</code> library provides an API to parse VT sequences. This library can be used on the master side (terminal emulator) as well as slave side (terminal application, e.g. the shell).</p>"},{"location":"internals/#vtbackend-library","title":"<code>vtbackend</code> library","text":"<p>Here we implement the actual terminal emulation. This is a headless library and cannot just be used for a GUI terminal emulator software. In order to render the screen state of a terminal to pixels, the <code>vtrasterizer</code> library can be used.</p>"},{"location":"internals/#vtrasterizer-library","title":"<code>vtrasterizer</code> library","text":"<p><code>vtrasterizer</code> implements rasterizing the screen state into a bitmap. This is done target independent, which means, that the caller must provide the respective implementation to decide how the pixels are being stored (or rendered).</p>"},{"location":"internals/#process-threading-model","title":"Process Threading Model","text":"<p>Contour Terminal Emulator is multithreaded. The main thread is solely for receiving user input events and displaying screen updates plus some necessary administrative tasks.</p> <p>The slave application will be spawned as a process and a thread is being associated with it to exclusively read the application's output, which will be processed inside the same thread. That thread is responsible for updating the internal terminal state.</p>"},{"location":"internals/#how-terminal-input-is-being-processed","title":"How terminal input is being processed","text":"<p>The user can send keyboard and mouse input which the connected slave (application) will read from its <code>stdin</code>.</p> <ol> <li>The native OS will emit an event, which will be intercepted by GLFW3 (the OpenGL Framework)</li> <li>The target GUI input events are being mapped to <code>terminal</code> API input events (see <code>InputGenerator</code>)</li> <li>The <code>terminal::InputEvent</code> objects are send to the respective <code>terminal_view::TerminalView</code>, which will apply key binds, if applicable, or pass the events to <code>terminal::Terminal</code>.</li> <li>The <code>terminal::Terminal</code> instance will use <code>terminal::InputGenerator</code> to generate VT sequences depending on current mode flags.</li> <li>The generated VT sequences are being transmitted to the slave application.</li> </ol>"},{"location":"internals/#how-terminal-output-is-being-processed","title":"How terminal output is being processed","text":"<p>The connected slave (application) may write a stream of characters to <code>stdout</code> or <code>stderr</code>, which will be read by the terminal.</p> <ol> <li>The VT stream is being parsed by a VT <code>Parser</code> that emits raw events</li> <li>These events are taken by the <code>OutputHandler</code>, and translated to <code>Command</code> variant types - in case of a VT function (such as ESC, CSI, OSC) a unique ID is being constructed. This unique ID is then mapped to a <code>FunctionDef</code> with a <code>FunctionHandler</code> whereas the latter will perform semantic analysis in order to emit the higher level <code>Command</code> variant types.</li> <li>The <code>Command</code> variant types are then processed in order by the <code>Screen</code> instance, that ultimatively interprets them.</li> <li>A callback hooks is being invoked to notify about screen updates (useful for displaying updated screen contents).</li> </ol>"},{"location":"internals/CODING_STYLE/","title":"Coding Style Guidelines","text":""},{"location":"internals/CODING_STYLE/#coding-style-guidelines","title":"Coding Style Guidelines","text":"<ul> <li>Prefer CppCoreGuidelines if possible.</li> <li>Avoid <code>friend</code> keyword.</li> <li>Use signed integers unless the integer is holding a bit pattern.</li> <li>Use the smallest integer type that is required to hold all desired values.</li> <li>Do not cast from signed to unsigned unless you want the bit pattern, prefer to cast from unsigned   to signed instead.</li> </ul>"},{"location":"internals/CODING_STYLE/#naming-conventions","title":"Naming Conventions","text":"<ul> <li>namespaces: <code>snake_case</code></li> <li>types: UpperCamelCase</li> <li>temporary variable: lowerCamelCase</li> <li>private member variables: lowerCamelCase with trailing underscore</li> <li>public member variable: lowerCamelCase</li> <li>constexpr variable: UpperCamelCase</li> <li>function names: lowerCamelCase</li> <li>function parameters: lowerCamelCase with leading underscore</li> <li>Template parameter name: UpperCamelCase</li> <li>preprocessor definitions: <code>SCREAMING_CASE</code></li> <li>east const instead of west const</li> </ul>"},{"location":"internals/CODING_STYLE/#example","title":"Example","text":"<pre><code>namespace org::coding_style::naming_conventions\n{\nvoid eastConst() {\nint const a = 42;        // a is const\nint const* p = &amp;a;       // value in p is const, p is not const.\nint const *const p = &amp;a; // both value and p are const.\n}\nenum class Role { Employed, Unemployed };\nstruct User\n{\nstd::string firstname;\nstd::string lastname;\nRole role;\n};\nclass Actor\n{\npublic:\nActor(std::string _firstname, std::string _lastname, Role _role) :\nuser_{ std::move(_firstname), std::move(_lastname), _role },\ncredits_{ 0 }\n{}\nvoid giveOrTakeCredits(int _amount) noexcept\n{\nconstexpr auto Scalar = 2;\ncredits += Scalar * _amount;\n}\nstd::string name() const\n{\nauto const result = user.firstname + \" \" + user.lastname;\nreturn result;\n}\nprivate:\nUser user_;\nint credits_;\n};\n}\n</code></pre>"},{"location":"internals/text-stack/","title":"Text stack","text":""},{"location":"internals/text-stack/#a-terminal-emulators-text-stack","title":"A terminal emulator's text stack.","text":""},{"location":"internals/text-stack/#tldr","title":"TL;DR","text":"<p>This document describes how rendering text is architectually implemented in Contour, an in-early-development virtual terminal emulator, in order to support complex unicode as well as (and especially) complex colored emoji.</p>"},{"location":"internals/text-stack/#introduction","title":"Introduction","text":"<p>Text rendering in a virtual terminal emulator can be as simple as just iterating over each grid cell's character, mapping it to a Font's bitmap glyph, and rendering it to the target surface at the appropriate position. But it can also be as complex as a web browser's text stack[1] if one may want to do it right.</p> <p>In contrast to web browsers (or word processors), terminal emulators are still rendering text the way they did render text 50 years ago - plus some non-standard extensions that did arise over the decades with regards to formatting.</p> <p>Also, terminal screens weren't made with Unicode in mind, Unicode did not even exist back then, so there were a few workarounds and non-standardized ideas implemented in order to display complex unicode text and symbols in terminals without a common formal ground that terminal application developers can rely on.</p> <p>Text rendering in a terminal emulator puts some additional constraints on how to render, mostly because character placement is decided before text shaping and must align to a fixed-size grid, which makes it almost impossible to properly render traditional japanese text into the terminal, or hewbrew right-to-left text (though, there is a handful of virtual terminal emulators that specialize on the latter and an informal agreement on how to deal with wide characters on the terminal screen).</p> <p>Not every character, or to be displayed symbol (such as emoji) is as wide as exactly one grid cell's width, so additional measurements have to be taken into account for dealing with these characters as well.</p>"},{"location":"internals/text-stack/#unicode-a-very-quick-rundown-in-the-context-of-terminals","title":"Unicode - a very quick rundown in the context of terminals","text":"<p>Unicode is aiming to have one huge universal space where every imaginable \"user perceived character\" can be represented. A \"user perceived character\" is what the user that looks at that character thinks of as one unit. This is in direct contrast to what a character is in computer science. A \"user perceived character\" can be as simple as one single codepoint (32-bit value representing that character) and as complex as an ordered sequence of 7 unbreakable codepoints to compose one single \"user perceived character\".</p> <p>This places additional requirements to a virtual terminal emulator where each grid cell SHOULD contain exactly one \"user perceived character\" (also known as grapheme cluster), that is, an unbreakable codepoint sequence of one or more codepoints that must not be broken up into multiple grid cells before the actual text shaping or screen rendering has been performed.</p> <p>Also, some grapheme clusters take up more than one grid cell in terms of display width, such as Emoji usually take two grid cells in width in order to merely match the Unicode (TR 51, section 2.2) specification's wording that the best practice to display emoji is to render them in a square block.</p>"},{"location":"internals/text-stack/#rendering-text-a-top-level-view","title":"Rendering text - a top level view","text":"<p>A terminal emulator's screen is divided into fixed width and (not necessarily equal) fixed height grid cells. When rendering this grid, it is sufficient to iterate over each line and column and render each grid cell individually, at least when doing basic rendering.</p> <p>Now, when non-trivial user perceived characters need to be supported, the rendering cannot just render each character individually, but must be first grouped into smaller chunks of text with common shared properties, across the grid cell boundaries.</p> <p>Here we enter the world text shaping.</p>"},{"location":"internals/text-stack/#text-shaping","title":"Text Shaping","text":"<p>Simply put, text shaping is the process of translating a sequence of codepoints into glyphs and their glyph positions. This differs from normal text processors and web browsers in a way because glyph placement in virtual terminal emulators are constrained.</p> <p>When shaping text of a single grid line, the line is split into words, delimited by spaces, gaps and SGR attributes, that is, each word must represent the same SGR attributes for every \"user perceived character\" (for example text style or background color must be equal for each position in this sequence, from now on called \"word\").</p> <p>The word can be used as a cacheable unit, in order to significantly speed up rendering for future renders. The cache key is composed of the codepoint sequence of that word, as well as, the common shared SGR attributes.</p> <p>This cacheable word is further segmented into sub runs by a series categories, that is, by Unicode script attribute (such as Latin or Hangul) and the symbol presentation (such as text presentation or Emoji presentation). This is important because one cannot just pass a string of text to the underlying text shaping engine with mixed properties, such as Hewbrew text along with some latin and Kanji or Emoji in between or a font style change for obvious reasons. Each segment (usually called run) must be shaped individually with its own set of fallback fonts. Emoji are using a different font and font fallback list than regular text which uses a different font and font falback list then bold, italic, or bold itaic fonts. Emoji also have two different presentation styles, the one that everybody expects and is named Emoji emoji presentation (double-width colored emoji) and the other one is named emoji text presentation, which renders emoji in (usually narrow-width) monochrome pictogram.</p> <p>The result of each sub run of a word is composing the sequence of glyph and glyph positions that can be used as the cache value of a cacheable word. The result of all sub runs can be used as the cache value for a cacheable word to be passed to the next stage, the text renderer.</p>"},{"location":"internals/text-stack/#text-rendering","title":"Text Rendering","text":"<p>The text renderer receives an already pre-shaped string of glyphs and glyph positions relative to screen coordinates of the first glyph to be rendered onto the screen.</p> <p>In order to lower the pressure on the GPU and reduce synchronization times between CPU and GPU, all glyph bitmaps are stored into a texture atlas on the GPU, such that the text rendering (when everything has been already uploaded once) just needs to deal with indices to those glyph bitmaps into the appropriate texture atlas as well as screen coordinates where to render those glyphs on the target surface.</p> <p>There is one texture atlas for monochrome glyphs (this is usually standard text) as well as one texture atlas for colored glyphs (usually colored emoji). Additionally there can be a third type of texture atlas for storing LCD anti-aliased bitmap glyphs.</p> <p>Now, when rendering a string of glyphs and glyph positions, each glyph's texture atlas ID and atlas texture coordinate is appended into an atlas coordinate array along with each glyph's absolute screen coordinate and color into a vertex buffer to be uploaded to the GPU.</p> <p>When iterating over the whole screen buffer has finished, the atlas texture and vertex buffer are filled with all glyphs and related information that are reuiqred for rendering one frame. These buffers are then uploaded to the GPU to be drawn in a single GPU render command (such as <code>glDrawArrays</code>, or <code>glDrawElements</code>).</p>"},{"location":"internals/text-stack/#other-terminal-emulator-related-challenges","title":"Other Terminal Emulator related Challenges","text":"<p>Most terminal applications use wcwidth() to detect the width of a potential \"wide character\". A terminal emulator has to deal with such broken client applications. Some however use utf8proc's <code>utf8proc_charwidth</code>, another library to deal with unicode.</p> <p>The suggested way for future applications (emulator and client) would be to introduce feature detection and mode switching on how to process grapheme clusters and their width, if legacy apps are of concern.</p> <p>Algorithmic wise, implementing grapheme cluster segmentation isn't too hard but in execution very expensive. Also grapheme cluster width compuation is expensive. But luckily, in the context of terminal emulators, both can be optimized for the general case in terminal emulatoors, which is mostly US-ASCII, and yields almost no penalty with optimizations or a ~60% performance penalty when naively implemented.</p> <p>Also, implementing proper text shaping into a fixed-grid terminal wasn't really the easiest when there is no other project or text to look at. I used \"Blink's text stack\" documentation as the basis and mapped this to the terminal world. Since text shaping IS expensive, this cannot be done without caching without hurting user experience.</p> <p>After investigating into the above optimization possibilities however, I do not see why a terminal emulator should not do provide support for complex unicode, as the performance I have achieved so far is above average at least, and therefore should be suffient for everyday use.</p> <p>Bidirectional text was not addressed in this document nor in the implementation in the Contour terminal yet, as this imposes a new set of challenges that have to be dealt with separately. Hopefully this will be eventually added (or contributed) and this document will then be updated accordingly.</p>"},{"location":"internals/text-stack/#conclusion","title":"Conclusion","text":"<p>If one went through all the pain on how Unicode, text segmentation, and text shaping works, you will be rewarded with a terminal emulator that is capable of rendering complex unicode. At least as much as most of us desire - being able to use (power user/) programming ligatures and composed Emoji.</p> <p>Some terminal emulators do partly support ligatures or rendering trivial single codepoint Emoji or a few of the composed Emoji codepoint sequences. While this is a great start, I'd say we can deliver more.</p>"},{"location":"internals/text-stack/#final-notes","title":"Final notes","text":"<p>I'd like to see the whole virtual terminal emulator world to join forces and agree on how to properly deal with complex text in a somewhat future-proof way.</p> <p>And while we would be in such an ideal world, we could even throw away all the other legacies that are inevitably inherited from the ancient VT standards that are partly even older than I am. What would we be without dreams. ;-)</p>"},{"location":"internals/text-stack/#references","title":"References","text":"<ul> <li>Blink's text stack</li> <li>UTS 11 - character width</li> <li>UTS 24 - script property</li> <li>UTS 29 - text segmentation (grapheme cluster, word boundary)</li> <li>UTS 51 - Emoji</li> </ul>"},{"location":"vt-extensions/","title":"VT extensions","text":""},{"location":"vt-extensions/#vt-extensions","title":"VT extensions","text":"<p>Contour supports some new or adopted non-standard VT extensions, which will be listed in the sub-sections here.</p>"},{"location":"vt-extensions/buffer-capture/","title":"Buffer Capture","text":""},{"location":"vt-extensions/buffer-capture/#buffer-capture","title":"Buffer Capture","text":"<p>The screen's text buffer can be captured via VT sequence suitable for shell integration, such as <code>fzf</code>.</p>"},{"location":"vt-extensions/buffer-capture/#request-syntax","title":"Request Syntax","text":"<pre><code>CSI &gt; Pl ; Pr t\n</code></pre> <p><code>Pl</code> is  <code>1</code> if the lines are to be counted logically and <code>0</code> if the lines are to be counted visually.</p> <p>A logical line is may be a wrapped line that spans more than one visual line, whereas a visual line always maps to exactly one line on the screen.</p> <p>The parameter <code>Pr</code> is the number of lines to be captured.</p>"},{"location":"vt-extensions/buffer-capture/#response-syntax","title":"Response Syntax","text":"<pre><code>PM 314 ; &lt;data&gt; ST\n</code></pre> <p>The response is may span multiple <code>PM</code> sequences. The reply will always end with a PM message with an empty <code>&lt;data&gt;</code> block, denoting the end of the reply.</p> <p>Each <code>&lt;data&gt;</code> chunk will be UTF-8 encoded of the text lines to be captured. Each line will be delimited by a newline escape sequenced (<code>LF</code>).</p>"},{"location":"vt-extensions/clickable-links/","title":"Clickable Links","text":""},{"location":"vt-extensions/clickable-links/#clickable-links","title":"Clickable Links","text":"<p>This is also known as the <code>OSC 8</code> feature, as it is implemented by quite some other terminal emulators and client applications already.</p>"},{"location":"vt-extensions/clickable-links/#syntax","title":"Syntax","text":"<p><code>OSC 8 ;; URL ST TEXT OSC 8 ;; ST</code></p> <p><code>OSC 8 ; id=ID ; URL ST TEXT OSC 8 ;; ST</code></p>"},{"location":"vt-extensions/clickable-links/#client-tooling","title":"Client Tooling","text":"<ul> <li><code>ls</code> on Linux supports parameter <code>--hyperlinks=auto</code>.</li> <li>GCC 10+ supports hyperlinks for diagnostic output, see <code>-fdiagnostics-hyperlink=auto</code></li> </ul>"},{"location":"vt-extensions/color-palette-update-notifications/","title":"Dark and Light Mode detection","text":""},{"location":"vt-extensions/color-palette-update-notifications/#dark-and-light-mode-detection","title":"Dark and Light Mode detection","text":"<p>Most modern operating systems and desktop environments do support Dark and Light themes, this includes at least MacOS, Windows, KDE Plasma, Gnome, and probably others.</p> <p>Some even support switching from dark to light and light to dark mode based on sun rise / sun set.</p> <p>In order to not make the terminal emulator look bad after such switch, we must enable the applications inside the terminal to detect when the terminal has updated the color palette. This may happen either due to the operaging system having changed the current theme or simply because the user has explicitly requested to reconfigure the currently used theme.</p> <p>Ideally we are getting CLI tools like delta to query the theme mode before sending out RGB values to the terminal to make the output look more in line with the rest of the desktop.</p> <p>But also TUIs like vim should be able to reflect dark/light mode changes as soon as the desktop has charnged from light to dark and vice versa, e.g. to make it more pleasing to the eyes.</p>"},{"location":"vt-extensions/color-palette-update-notifications/#query-the-current-theme-mode","title":"Query the current theme mode?","text":"<p>Send <code>CSI ? 996 n</code> to the terminal to explicitly request the current color preference (dark mode or light mode) by the operating system.</p> <p>The terminal will reply back in either of the two ways:</p> VT sequence description <code>CSI ? 997 ; 1 n</code> DSR reply to indicate dark mode <code>CSI ? 997 ; 2 n</code> DSR reply to indicate light mode"},{"location":"vt-extensions/color-palette-update-notifications/#request-unsolicited-dsr-on-color-palette-updates","title":"Request unsolicited DSR on color palette updates","text":"<p>Send <code>CSI ? 2031 h</code> to the terminal to enable unsolicited DSR (device status report) messages for color palette updates and <code>CSI ? 2031 l</code> respectively to disable it again.</p> <p>The sent out DSR looks equivalent to the already above mentioned. This notification is not just sent when dark/light mode has been changed by the operating system / desktop, but also if the user explicitly changed color scheme, e.g. by configuration.</p>"},{"location":"vt-extensions/csi-u-extended-keyboard-protocol/","title":"CSIu Extended Keyboard Protocol","text":""},{"location":"vt-extensions/csi-u-extended-keyboard-protocol/#csiu-extended-keyboard-protocol","title":"CSIu Extended Keyboard Protocol","text":""},{"location":"vt-extensions/csi-u-extended-keyboard-protocol/#tldr","title":"TL;DR","text":"<p>The main problem with the classic way of processing keyboard input is, that it is highly ambiguous when modifiers need to be used.</p> <p>CSIu aims to solve this by enabling disambiguation of keyboard events that would be ambiguous otherwise.</p>"},{"location":"vt-extensions/csi-u-extended-keyboard-protocol/#new-vt-sequences","title":"New VT Sequences","text":"VT sequence Short description <code>CSI &gt; {flags} u</code> Enter extended keyboard protocol mode <code>CSI = {flags} u</code> Request enhancement to the currently active protocol <code>CSI = {flags} ; {mode} u</code> Request enhancement to the currently active protocol <code>CSI &lt; {count} u</code> Leave the current keyboard protocol mode <code>CSI &lt; u</code> Leave the current keyboard protocol mode"},{"location":"vt-extensions/csi-u-extended-keyboard-protocol/#how-entering-and-leaving-works","title":"How entering and leaving works","text":"<p>In order to more conveniently enable the application to configure the keyboard without breaking the calling application, when the current program is about to exit, the terminal leverages an internal stack of keyboard protocol flags.</p> <p>When an application starts, it can push a new desired protocol state onto the keyboard protocol stack, and thus get keyboard events respectively to the flags being set.</p> <p>When the application exits, the flags are being previously stored on the top of the stack, are now simply being popped from the flag stack, thus, effectively making the old state active again.</p> <p>This stack must store at most 32 flags. The bottom-most stack has no flags set, and thus, will act like the legacy keyboard protocol. This bottom-most stack item cannot be popped from the stack.</p> <p>When the terminal hard-resets, the keyboard's flag stack is being set back to 1 element (the legacy flags).</p>"},{"location":"vt-extensions/csi-u-extended-keyboard-protocol/#operating-mode-flags","title":"Operating Mode Flags","text":"<p>This is the number of flags that can be or'd together into a flag bitset either when entering a new keyboard-protocol session, or when enhancing the currently active keyboard protocol session.</p> Binary Decimal short description <code>0b0'0001</code> <code>1</code> Disambiguation <code>0b0'0010</code> <code>2</code> Report all event types (press, repeat, release) <code>0b0'0100</code> <code>4</code> Report alternate keys <code>0b0'1000</code> <code>8</code> Report all keys as control sequence <code>0b1'0000</code> <code>16</code> Report associated text"},{"location":"vt-extensions/csi-u-extended-keyboard-protocol/#entering-csiu-mode","title":"Entering CSIu mode","text":"<p>Syntax: <code>CSI &gt; {flags} u</code></p> <p>By default, <code>flags</code> is set to <code>1</code>, but <code>flags</code> ben a a binary-or'd set of flags to enable.</p> <p>Passing <code>0</code> will act like <code>1</code>.</p>"},{"location":"vt-extensions/csi-u-extended-keyboard-protocol/#flag-disambiguation","title":"Flag: Disambiguation","text":"<p>Any non-ambiuous key event, such as regular text without any modifiers pressed, is is sent out in UTF-8 text as is.</p> <p>Non-printable key events (such as <code>F3</code> or <code>ESC</code>), and printable text key events with modifiers being pressed, are sent out in form of a control sequence.</p> <p>Syntax (for some key events): <code>CSI ? {Code} ; {Modifier} ~</code></p> <p>Syntax (for text and most other key events): <code>CSI ? {Code} ; {Modifier} u</code></p> <p><code>{Code}</code> is the numerical form of the unicode codepoint for textual key events, and a special assigned numeric value from the Unicode PUA range otherwise.</p> <p>Key       | Code | Final Char ----------|------------------- <code>&lt;Enter&gt;</code> | <code>27</code> | <code>u</code></p>"},{"location":"vt-extensions/csi-u-extended-keyboard-protocol/#flag-report-all-event-types","title":"Flag: Report all event types","text":"<p>With this flag enabled, an additional sub parameter to the modifier is passed to indicate if the key was just pressed, repeated, or released. A repeat-event is usually triggered by the operating system to simulate key press events at a fixed rate without needing to press and release that key many times.</p> Event type Code Key Press <code>1</code> Key Repeat <code>2</code> Key Release <code>3</code>"},{"location":"vt-extensions/csi-u-extended-keyboard-protocol/#report-alternate-keys","title":"Report alternate keys","text":"<p>TODO ...</p>"},{"location":"vt-extensions/csi-u-extended-keyboard-protocol/#report-all-keys-as-control-sequence","title":"Report all keys as control sequence","text":"<p>With this flag enabled, not just otherwise ambiguous events are sent as control sequence, but every key event is sent as control sequence instead.</p>"},{"location":"vt-extensions/csi-u-extended-keyboard-protocol/#report-associated-text","title":"Report associated text","text":"<p>TODO ...</p>"},{"location":"vt-extensions/csi-u-extended-keyboard-protocol/#change-currently-active-protocol","title":"Change currently active protocol","text":"<p>Syntax: <code>CSI = {flags} ; {mode} u</code></p> <p>The top of the keyboard's flags stack can be changed in one of the three ways:</p> Mode value description <code>1</code> set given flags to currently active flags <code>2</code> add given flags to currently active flags <code>3</code> remove given flags from currently active flags <p>This will immediately take affect.</p>"},{"location":"vt-extensions/csi-u-extended-keyboard-protocol/#leaving-csiu-mode","title":"Leaving CSIu mode","text":"<p>Syntax: <code>CSI &lt; {count} u</code></p> <p>When terminating an application session, an application must pop off what was previously pushed onto the keyboard's flags stack.</p> <p><code>count</code> can be greater than <code>1</code> in order to pop multiple flags at once. Passing a bigger number than the number of elements in the flags stack minus the bottom-most legacy entry, will truncate the number <code>count</code> value to number of elements in the flags stack minus <code>1</code>.</p>"},{"location":"vt-extensions/font-settings/","title":"Query or Change Font Settings","text":""},{"location":"vt-extensions/font-settings/#query-or-change-font-settings","title":"Query or Change Font Settings","text":"<p>This VT extension can be used to query the current font settings of the connected terminal or to change them.</p> <p>Mind, there is a similar VT extension (OSC 50) introduced by xterm, which is inferior.</p>"},{"location":"vt-extensions/font-settings/#syntax-query-font","title":"Syntax: Query Font","text":"<pre><code>OSC 60 ST\n</code></pre>"},{"location":"vt-extensions/font-settings/#syntax-query-font_1","title":"Syntax: Query Font","text":"<pre><code>OSC 60 ; size ; regular ; bold ; italic ; bold italic ST\n</code></pre>"},{"location":"vt-extensions/line-reflow-mode/","title":"Line Reflow Reconfiguration","text":""},{"location":"vt-extensions/line-reflow-mode/#line-reflow-reconfiguration","title":"Line Reflow Reconfiguration","text":"<p>On resize, overly long lines, that would otherwise be cut off, are usually reflowed to the next line on modern terminals.</p> <p>This extension allows toggling reflow for the current line and subsequent lines using a DEC mode (<code>2028</code>).</p>"},{"location":"vt-extensions/line-reflow-mode/#feature-detection","title":"Feature detection","text":"<p>Use <code>DECRQM</code> (<code>CSI ? 2028 $ p</code>) to detect support for line reflow reconfiguration.</p>"},{"location":"vt-extensions/line-reflow-mode/#using-the-feature","title":"Using the feature","text":"<p>Use <code>CSI ? 2028 h</code> to enable text reflow on the current line and the following lines.</p> <p>Use <code>CSI ? 2028 l</code> to disable text reflow on the current line and the following lines.</p>"},{"location":"vt-extensions/synchronized-output/","title":"Synchronized Output","text":""},{"location":"vt-extensions/synchronized-output/#synchronized-output","title":"Synchronized Output","text":"<p>Synchronized output is merely implementing the feature as inspired by iTerm2 synchronized output, except that it's not using the rare DCS but rather the well known <code>SM ?</code> and <code>RM ?</code>. iTerm2 has now also adopted to use the new syntax instead of using DCS.</p>"},{"location":"vt-extensions/synchronized-output/#semantics","title":"Semantics","text":"<p>When rendering the screen of the terminal, the Emulator usually iterates through each visible grid cell and renders its current state. With applications updating the screen at a high frequency, this can cause tearing.</p> <p>This mode attempts to mitigate that.</p> <p>When the synchronization mode is enabled following render calls will keep rendering the last rendered state. The terminal Emulator keeps processing incoming text and sequences. When the synchronized update mode is disabled, the renderer may fetch the latest screen buffer state, effectively avoiding the tearing effect by unintentionally rendering in the middle of an application screen update.</p>"},{"location":"vt-extensions/synchronized-output/#feature-detection","title":"Feature detection","text":"<p>Use <code>CSI ? 2026 $ p</code> to query the state of the (DEC) mode <code>2026</code>. This works for any private mode number. If you get nothing back (DECRQM not implemented at all) or you get back a <code>CSI ? 2026 ; 0 $ y</code> then synchronized output is not supported. See DECRQM (request) and DECRPM (response) for more details.</p> <p>DECRPM can respond with different values.</p> Value Documentation Relevance for synchronized output mode ?2026 <code>0</code> Mode is not recognized not supported <code>1</code> Set supported and screen updates are not shown to the user until mode is disabled <code>2</code> Reset supported and screen updates are shown as usual (e.g. as soon as they arrive) <code>3</code> Permanently set undefined <code>4</code> Permanently reset not supported"},{"location":"vt-extensions/synchronized-output/#using-the-feature","title":"Using the feature","text":"<p>Use <code>CSI ? 2026 h</code> to enable batching output commands into a command queue.</p> <p>Use <code>CSI ? 2026 l</code> when done with your current frame rendering, implicitly updating the render state by reading out the latest grid buffer state.</p>"},{"location":"vt-extensions/synchronized-output/#notation","title":"Notation","text":"<p>Some developers name the beginning and end of such a synchronized frame (and therefore the instance)</p> <ul> <li><code>BSU</code> (begin synchronized update, <code>CSI ? 2026 h</code>), and</li> <li><code>ESU</code> (end synchronized update, <code>CSI ? 2026 l</code>).</li> </ul>"},{"location":"vt-extensions/synchronized-output/#timeout","title":"Timeout","text":"<p>So far there is no real consensus on weather a timeout should be and, if so, for how long. The toolkit/application implementer should keep this in mind. However, a too short timeout (maybe due to a very slow connection) won't be worse than having no synchronized output at all.</p>"},{"location":"vt-extensions/synchronized-output/#adoption-state","title":"Adoption State","text":"Support Terminal/Tookit/App Notes n/a xterm.js see tracker xterm.js#3375 not yet Windows Terminal Proof-of-concept implementation by @j4james exists; tracker: wt#8331 \u2705 Contour \u2705 mintty \u2705 Jexer \u2705 notcurses see tracker: notcurses#1582 \u2705 foot terminal emulator https://codeberg.org/dnkl/foot \u2705 Wezterm see tracker: wezterm#882 not yet VTE / gnome-terminal see tracker: gitlab/vte#15 \u2705 iTerm2 \u2705 Kitty since 5768c54c5b5763e4bbb300726b8ff71b40c128f8 planned Warp see tracker: https://github.com/warpdotdev/Warp/issues/2185 unknown Alacritty unknown Konsole unknown urxvt unknown st <p>In case some project is adding support for this feature, please leave a comment or contact me, so we can keep the spec and implementation state table up to date.</p>"},{"location":"vt-extensions/synchronized-output/#reference","title":"Reference","text":"<p>The original document of this page was stored here.</p>"},{"location":"vt-extensions/unicode-core/","title":"Unicode Core","text":""},{"location":"vt-extensions/unicode-core/#unicode-core","title":"Unicode Core","text":"<p>We implement the Terminal Unicode Core specification, which addresses some of the problems terminals usually have when it comes to Unicode.</p> <p>This mainly addresses complex grapheme cluster handling, variation selectors (VS15, VS16) handling, and its cursor placement.</p> <p>Right-to-left (RTL) text is explicitly not handled in this extension.</p> <p>Please follow up on the specification here: https://github.com/contour-terminal/terminal-unicode-core</p>"},{"location":"vt-extensions/vertical-line-marks/","title":"Vertical Line Markers","text":""},{"location":"vt-extensions/vertical-line-marks/#vertical-line-markers","title":"Vertical Line Markers","text":"<p>Suppose you type a lot in the terminal, and I bet you do. Some commands may have inconveniently long output and you need a way to conveniently scroll the terminal viewport up to the top of that command. This is what this feature is there for. You can easily walk up/down your markers like you'd walk up code folds or markers in VIM or other editors.</p>"},{"location":"vt-extensions/vertical-line-marks/#set-a-mark","title":"Set a mark:","text":"<pre><code>echo -ne \"\\033[&gt;M\"\n</code></pre>"},{"location":"vt-extensions/vertical-line-marks/#example-key-bindings-in-contour","title":"Example key bindings in Contour:","text":"<pre><code>input_mapping:\n- { mods: [Alt, Shift], key: 'k', mode: '~Alt', action: ScrollMarkUp }\n- { mods: [Alt, Shift], key: 'j', mode: '~Alt', action: ScrollMarkDown }\n</code></pre> <p>It is recommended to integrate the marker into your command prompt, such as <code>$PS1</code> in bash or sh to have automatic markers set.</p>"},{"location":"vt-extensions/vertical-line-marks/#integration-into-zsh","title":"Integration into ZSH:","text":"<p>zsh is way to configurable to give a fully generic answer here, but to show how you can integrate vertical line markers when using the powerlevel9k, this is what your <code>~/.zshrc</code> config could contain:</p> <pre><code>prompt_setmark() {\necho -ne \"%{\\033[&gt;M%}\"\n}\nPOWERLEVEL9K_LEFT_PROMPT_ELEMENTS=(setmark user dir vcs)\n</code></pre>"},{"location":"vt-extensions/vertical-line-marks/#integration-into-bash","title":"Integration into Bash","text":"<p>Bash is usually highly customized to your needs, but the bottom line would be as suggested below. You can create your custom <code>prompt_setmark</code> function that contains <code>\\\\[</code> and <code>\\\\]</code> as enclosing markers for the escape sequence to tell your shell that they do not change the current cursor position, and then use this function in our <code>PS1</code> environment variable or invoked inside your function assigned to <code>PROMPT_COMMAND</code>.</p> <pre><code>prompt_setmark() {\necho -ne \"\\\\[\\033[&gt;M\\\\]\"\n}\n# extending existing PS1\nexport PS1=\"`prompt_setmark`${PS1}\"\n</code></pre>"}]}